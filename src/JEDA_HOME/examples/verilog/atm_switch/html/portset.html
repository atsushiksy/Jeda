<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.73 [en] (X11; U; Linux 2.2.19 i686) [Netscape]">
</head>
<body>
<a href="directory.html">prev</a> : <a href="index.html">index</a> : <a href="cell_n_queue.html">next</a>
<p><font size=+1>5. Portset Construction</font>
<ul>Ports completely corresponding to the DUT ports are usually used in
the block level verification. To avoid the name conflict in the case of
handling multiple blocks, using portset is always encouraged.
<br>Jeda comes with a simple template generator that can purse the Verilog
port declaration and create the portset declaration automatically. As this
template generator does not have full Verilog parser, it is necessary to
create the dummy Verilog file that only has port declaration.
<br>The empty version of squat model is in <a href="../verilog/squat_dummy.v">squat_dummy.v</a>.
This files is used to run the template generator 'jedatemp'.
<br>The following command line is used to run 'jedatemp':
<br>&nbsp;
<ul><font face="Courier New,Courier"><font size=-1>jedatemp -c clk -m squat
-i ../verilog/squat_test_inc.vh squat_dummy.v</font></font></ul>

<p><br>Executing the command above will create the following files (those
files are included in the release):
<br>&nbsp;
<ul>
<li>
<a href="../verilog/squat_port.jh">squat_port.jh</a>&nbsp; -- port declaration</li>

<li>
<a href="../verilog/squat_test_template.j">squat_test_template.j</a> --
test template</li>

<li>
<a href="../verilog/squat_test.v">squat_test.v</a> -- verilog testbench
that connect jeda_module and DUT.</li>
</ul>

<p><br>The verilog include file <a href="../verilog/squat_test_inc.vh">squat_test_inc.vh</a>
is specified and it's included at the end of <a href="../verilog/squat_test.v">squat_test.v</a>.
This file is for generating the dump file. The dump section in the file
is commented, and needed to be modified to generate a proper format of
the dump.
<p>The squat_port.jh that generated by 'jedatemp' is not a complete one
as UTOPIA port reference clock relation is not correctly set. This file
is copied to include directory, and manually modified to be the final
<a href="../include/squat_port.jh">squat_port.jh</a>.
All the UTOPIA port signals have proper clock as the reference in each
port, as
<p><font face="Courier New,Courier"><font size=-1>&nbsp; output&nbsp; [7:0]
Rx_data_0 DRIVE_SPEC&nbsp; @ squat.Rx_clk_0&nbsp; ;</font></font>
<br><font face="Courier New,Courier"><font size=-1>&nbsp; output&nbsp;
[7:0] Rx_data_1 DRIVE_SPEC&nbsp; @ squat.Rx_clk_1&nbsp; ;</font></font>
<br><font face="Courier New,Courier"><font size=-1>&nbsp; output&nbsp;
[7:0] Rx_data_2 DRIVE_SPEC&nbsp; @ squat.Rx_clk_2&nbsp; ;</font></font>
<br><font face="Courier New,Courier"><font size=-1>&nbsp; output&nbsp;
[7:0] Rx_data_3 DRIVE_SPEC&nbsp; @ squat.Rx_clk_3&nbsp; ;</font></font>
<br>&nbsp;</ul>
<a href="directory.html">prev</a> : <a href="index.html">index</a> : <a href="cell_n_queue.html">next</a>
</body>
</html>
